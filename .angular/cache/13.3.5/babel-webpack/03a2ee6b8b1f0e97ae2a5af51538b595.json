{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\sas5ct\\\\Desktop\\\\MarketPlace-Front\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport axios from 'axios';\nlet ProfileComponent = class ProfileComponent {\n  constructor(route) {\n    this.route = route;\n    this.editPersonal = false;\n    this.editAddress = false;\n    this.client = {\n      name: \"\",\n      phone: \"\",\n      email: \"\",\n      passwd: \"\",\n      login: \"\",\n      date_of_birth: \"\",\n      document: \"\"\n    };\n    this.owner = {\n      name: \"\",\n      phone: \"\",\n      email: \"\",\n      passwd: \"\",\n      login: \"\",\n      date_of_birth: \"\",\n      document: \"\"\n    };\n    this.authToken = localStorage.getItem('authToken');\n    this.authTokenOwner = localStorage.getItem('authOwner');\n  }\n\n  ngOnInit() {\n    let teirep = localStorage.getItem(\"authOwner\");\n    let periet = localStorage.getItem(\"authToken\");\n\n    if (teirep == null) {\n      const clientId = Number(localStorage.getItem('id'));\n      this.getClient(clientId);\n    } else {\n      const ownerId = Number(localStorage.getItem('id'));\n      this.getOwner(ownerId);\n    }\n\n    this.disableInputs('address');\n    this.disableInputs('personal');\n  }\n\n  getClient(id) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var config = {\n        method: 'get',\n        url: 'http://localhost:5062/client/get',\n        headers: {\n          'Authorization': 'Bearer ' + localStorage.getItem(\"authToken\")\n        }\n      };\n      var response = yield axios(config);\n      console.log(response.data);\n      _this.client = response.data;\n      _this.client.date_of_birth = _this.client.date_of_birth.substring(0, 10).toString();\n    })();\n  }\n\n  getOwner(id) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var config = {\n        method: 'get',\n        url: 'http://localhost:5062/owner/get',\n        headers: {\n          'Authorization': 'Bearer ' + localStorage.getItem(\"authOwner\")\n        }\n      };\n      var response = yield axios(config);\n      console.log(response.data);\n      _this2.owner = response.data;\n      _this2.owner.date_of_birth = _this2.owner.date_of_birth.substring(0, 10).toString();\n    })();\n  }\n\n  logout() {\n    this.authToken = null;\n    this.authTokenOwner = null;\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('authTokenOwner');\n    localStorage.removeItem('clientName');\n    localStorage.removeItem('ownerName');\n    localStorage.removeItem('id');\n  }\n\n  disableInputs(name) {\n    //Desabilita todos os inputs\n    var inputs = document.querySelectorAll(\"input\");\n\n    for (var i = 0; i < inputs.length; i++) {\n      if (inputs[i].name == name) inputs[i].disabled = true;\n    }\n  }\n\n  allowEdit(name) {\n    var inputs = document.querySelectorAll(\"input\");\n\n    for (var i = 0; i < inputs.length; i++) {\n      if (inputs[i].name == name) inputs[i].disabled = false;\n    }\n\n    if (name == 'address') this.editAddress = true;\n    if (name == 'personal') this.editPersonal = true;\n  }\n\n  saveEdits(name) {\n    if (name == 'address') {\n      this.editAddress = false;\n    }\n\n    if (name == 'personal') this.editPersonal = false;\n    this.disableInputs(name);\n  }\n\n};\nProfileComponent = __decorate([Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})], ProfileComponent);\nexport { ProfileComponent };","map":{"version":3,"sources":["C:/Users/sas5ct/Desktop/MarketPlace-Front/src/app/profile/profile.component.ts"],"names":["__decorate","Component","axios","ProfileComponent","constructor","route","editPersonal","editAddress","client","name","phone","email","passwd","login","date_of_birth","document","owner","authToken","localStorage","getItem","authTokenOwner","ngOnInit","teirep","periet","clientId","Number","getClient","ownerId","getOwner","disableInputs","id","config","method","url","headers","response","console","log","data","substring","toString","logout","removeItem","inputs","querySelectorAll","i","length","disabled","allowEdit","saveEdits","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport axios from 'axios';\r\nlet ProfileComponent = class ProfileComponent {\r\n    constructor(route) {\r\n        this.route = route;\r\n        this.editPersonal = false;\r\n        this.editAddress = false;\r\n        this.client = {\r\n            name: \"\",\r\n            phone: \"\",\r\n            email: \"\",\r\n            passwd: \"\",\r\n            login: \"\",\r\n            date_of_birth: \"\",\r\n            document: \"\",\r\n        };\r\n        this.owner = {\r\n            name: \"\",\r\n            phone: \"\",\r\n            email: \"\",\r\n            passwd: \"\",\r\n            login: \"\",\r\n            date_of_birth: \"\",\r\n            document: \"\",\r\n        };\r\n        this.authToken = localStorage.getItem('authToken');\r\n        this.authTokenOwner = localStorage.getItem('authOwner');\r\n    }\r\n    ngOnInit() {\r\n        let teirep = localStorage.getItem(\"authOwner\");\r\n        let periet = localStorage.getItem(\"authToken\");\r\n        if (teirep == null) {\r\n            const clientId = Number(localStorage.getItem('id'));\r\n            this.getClient(clientId);\r\n        }\r\n        else {\r\n            const ownerId = Number(localStorage.getItem('id'));\r\n            this.getOwner(ownerId);\r\n        }\r\n        this.disableInputs('address');\r\n        this.disableInputs('personal');\r\n    }\r\n    async getClient(id) {\r\n        var config = {\r\n            method: 'get',\r\n            url: 'http://localhost:5062/client/get',\r\n            headers: {\r\n                'Authorization': 'Bearer ' + localStorage.getItem(\"authToken\"),\r\n            }\r\n        };\r\n        var response = await axios(config);\r\n        console.log(response.data);\r\n        this.client = response.data;\r\n        this.client.date_of_birth = this.client.date_of_birth.substring(0, 10).toString();\r\n    }\r\n    async getOwner(id) {\r\n        var config = {\r\n            method: 'get',\r\n            url: 'http://localhost:5062/owner/get',\r\n            headers: {\r\n                'Authorization': 'Bearer ' + localStorage.getItem(\"authOwner\"),\r\n            }\r\n        };\r\n        var response = await axios(config);\r\n        console.log(response.data);\r\n        this.owner = response.data;\r\n        this.owner.date_of_birth = this.owner.date_of_birth.substring(0, 10).toString();\r\n    }\r\n    logout() {\r\n        this.authToken = null;\r\n        this.authTokenOwner = null;\r\n        localStorage.removeItem('authToken');\r\n        localStorage.removeItem('authTokenOwner');\r\n        localStorage.removeItem('clientName');\r\n        localStorage.removeItem('ownerName');\r\n        localStorage.removeItem('id');\r\n    }\r\n    disableInputs(name) {\r\n        //Desabilita todos os inputs\r\n        var inputs = document.querySelectorAll(\"input\");\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            if (inputs[i].name == name)\r\n                inputs[i].disabled = true;\r\n        }\r\n    }\r\n    allowEdit(name) {\r\n        var inputs = document.querySelectorAll(\"input\");\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            if (inputs[i].name == name)\r\n                inputs[i].disabled = false;\r\n        }\r\n        if (name == 'address')\r\n            this.editAddress = true;\r\n        if (name == 'personal')\r\n            this.editPersonal = true;\r\n    }\r\n    saveEdits(name) {\r\n        if (name == 'address') {\r\n            this.editAddress = false;\r\n        }\r\n        if (name == 'personal')\r\n            this.editPersonal = false;\r\n        this.disableInputs(name);\r\n    }\r\n};\r\nProfileComponent = __decorate([\r\n    Component({\r\n        selector: 'app-profile',\r\n        templateUrl: './profile.component.html',\r\n        styleUrls: ['./profile.component.css']\r\n    })\r\n], ProfileComponent);\r\nexport { ProfileComponent };\r\n"]},"metadata":{},"sourceType":"module"}